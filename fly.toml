app = "squat-api-docker"
primary_region = "fra"

[http_service]
  internal_port = 8080
  force_https = true
  auto_start_machines = true
  auto_stop_machines = "stop"
  min_machines_running = 0
  processes = ["app"]

[[vm]]
  # בלי cpus/‏cpu_kind!
  memory_mb = 16384        # ← זה המינימום ש-Fly מבקש כאן
  gpu_kind  = "a10"        # או l40s / a100 אם תחליפי
  gpus      = 1

[env]
  PORT = "8080"
  NVIDIA_VISIBLE_DEVICES = "all"
  NVIDIA_DRIVER_CAPABILITIES = "compute,video,utility"
  DEBUG = "1"
